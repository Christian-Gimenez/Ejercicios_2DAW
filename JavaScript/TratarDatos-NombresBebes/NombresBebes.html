<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nombres de bebés</title>
  <script src="nomnac21-01.js"></script>
</head>

<body>
  <script>
    function limpiar(dato) {return dato.trim()};
    function noVacios(dato) {return dato !== ""};
    //Lo que hicimos en clase explicado por Jose:
    const datos = nombres //Cogemos la cadena
      .split("\n") //La dividimos en un array
      .map(limpiar) //Devolvemos el mismo array sin espacios extras
      .filter(noVacios) //Eliminamos las posiciones del array vacías. Podría haberse hecho tambien con .filter(reg => reg.lenght)
      .map(dato => dato.split(";;")); //Dividimos en niños y niñas

    const niños = datos.map(dato => dato[0].split(";"));
    const niñas = datos.map(dato => dato[1].split(";").filter(noVacios));

    const cabecera = ["nombre", "cantidad", "sexo"];
    const niños_obj = niños.map(elemento => aObjeto(elemento, "niño"));

    function aObjeto(elemento, s) {
      const obj = elemento.reduce((acc, v, pos) => {
        return acc[cabecera[pos]] = v;
        
      }, {});
      return obj[cabecera[2]]=s;
    }
     //Solución JUAN -> const losNombres = (niños.map(dato => dato[0]) + niñas.map(dato => dato[0])).split(",");
    //Solucion: CONCAT

    //EJERCICIO PARA CASA: Hay que coger ambos arrays y juntarlos, pero sólo los nombres
    //let losNombres = [];
    //losNombres = losNombres.concat(niños.map(dato => dato[0]), niñas.map(dato => dato[0]));
    //losNombres.forEach(valor => document.write(valor + "<br/>"));

    //Solucion Jose
    const dummy = [];
    const losNombres = niños.map(dato => dato[0])
      .concat(niñas.map(dato => dato[0]));

    //Hacer un metodo que me diga cuantos nombres tienen la letra pasada por argumento
    function cuantosNombresTienenLaLetra(array, letra) {
      /*
      letra = letra.toLocaleUpperCase();
      let contador = 0;
      array.forEach(valor => {
        if (valor.includes(letra)) contador++;
      });
      return contador;*/
      return array.filter(nombre => nombre
                              .toUpperCase()
                              .include(letra.toUpperCase())).length;
    }
    console.log("Hay " + cuantosNombresTienenLaLetra(losNombres, "A") + " niño/s con la letra 'A'");

    //ret: Array de nombres
    function nombresQueComienzanPor(arr, letra) {
      return arr.filter(nombre => nombre
                                        .toUpperCase()
                                        .startsWith(letra.toUpperCase()));
      /*
      letra = letra.toLocaleUpperCase();
      return arr.filter(valor =>  valor.charAt(0) == letra);
      */
    }

    //ret: bool
    function estaMiNombre(arr, nombre) {
      //return arr.includes(nombre.toUpperCase());
      return arr.some(ele => ele.toUpperCase() == nombre.toUpperCase());
    }

    //ret: Número
    function cuantasVecesApareceLaLetra(arr, letra) {
      /*      
      letra = letra.toLocaleUpperCase();
      let contador = 0;
      arr.forEach(nombre => {
        let arrValor = nombre.split("");
        arrValor.forEach(char => {
          if(char === letra) contador++;
        });
      }); 
      return contador;
      */
      return arr.join()
                .toUpperCase()
                .split("")
                //.filter(ele => ele === letra.toUpperCase()).length;
                .reduce((acc, ele) => (acc + Number(ele === letra.toUpperCase())));
    }

    /*
    [
    "MARTIN",
    "HUGO",
    "MATEO",
    "LEO",
    "DANIEL",
    "ALEJANDRO",
    "PABLO",
    "ENZO",
    "ALVARO",
    "MARIO",
    "ADRIAN",
    "DIEGO",
    "THIAGO",
    "BRUNO",
    "OLIVER",
    "DAVID",
    "ALEX",
    "MARCO",
    "GONZALO",
    "MARCOS",
    "NICOLAS",
    "ANTONIO",
    "IZAN",
    "MIGUEL",
    "JAVIER",
    "LUCA",
    "LIAM",
    "GAEL",
    "MARC",
    "DYLAN",
    "JUAN",
    "ANGEL",
    "CARLOS",
    "JOSE",
    "GABRIEL",
    "SERGIO",
    "ERIC",
    "JORGE",
    "DARIO",
    "ADAM",
    "SAMUEL",
    "HECTOR",
    "RODRIGO",
    "IKER",
    "FRANCISCO",
    "PAU",
    "JESUS",
    "GUILLERMO",
    "JAIME",
    "LUIS",
    "IAN",
    "NOAH",
    "AARON",
    "VICTOR",
    "MOHAMED",
    "RAFAEL",
    "PEDRO",
    "AMIR",
    "UNAI",
    "JULEN",
    "RUBEN",
    "SANTIAGO",
    "IVAN",
    "ERIK",
    "NIL",
    "POL",
    "SAUL",
    "NEIZAN",
    "JAN",
    "MARTI",
    "MATIAS",
    "RAUL",
    "ALBERTO",
    "AITOR",
    "JOEL",
    "RAYAN",
    "ANDER",
    "AXEL",
    "ALAN",
    "ALONSO",
    "FERNANDO",
    "ASIER",
    "ISAAC",
    "ANDRES",
    "FABIO",
    "BIEL",
    "IGNACIO",
    "LUKA",
    "MAX",
    "ARNAU",
    "ISMAEL",
    "ADAY",
    "ALEIX",
    "JON",
    "NICO",
    "YOUSSEF",
    "ELIAS",
    "KAI",
    "LUCIA",
    "MARTINA",
    "SOFIA",
    "MARIA",
    "PAULA",
    "EMMA",
    "DANIELA",
    "CARLA",
    "ALMA",
    "OLIVIA",
    "SARA",
    "CARMEN",
    "VEGA",
    "MIA",
    "LARA",
    "ALBA",
    "NOA",
    "LOLA",
    "VALENTINA",
    "CHLOE",
    "CLAUDIA",
    "JIMENA",
    "AITANA",
    "LAIA",
    "VERA",
    "ABRIL",
    "ALEJANDRA",
    "ANA",
    "TRIANA",
    "CANDELA",
    "ADRIANA",
    "MANUELA",
    "ELENA",
    "CARLOTA",
    "INES",
    "BLANCA",
    "MARINA",
    "MARTA",
    "LIA",
    "VICTORIA",
    "NORA",
    "ZOE",
    "ROCIO",
    "ALICIA",
    "CLARA",
    "GALA",
    "LUNA",
    "ARIADNA",
    "IRENE",
    "LAURA",
    "CELIA",
    "EVA",
    "AMIRA",
    "INDIA",
    "LEIRE",
    "AFRICA",
    "ONA",
    "ANGELA",
    "GABRIELA",
    "MAR",
    "IRIA",
    "ANDREA",
    "ISABEL",
    "MARA",
    "AINHOA",
    "AINARA",
    "JULIETA",
    "ELSA",
    "IRIS",
    "AINA",
    "JANA",
    "NEREA",
    "LEYRE",
    "NAIA",
    "NAHIA",
    "CAYETANA",
    "LINA",
    "CLOE",
    "DIANA",
    "ELIA",
    "HELENA",
    "NOUR",
    "YASMIN",
    "MAIA",
    "CRISTINA",
    "NATALIA",
    "MACARENA",
    "ADARA",
    "AURORA",
    "CAROLINA",
    "VIOLETA",
    "FATIMA",
    "ISABELLA",
    "ARLET",
    "AROA",
    "CAMILA",
    "BERTA",
    "AMAIA"
]*/
  </script>

</body>

</html>